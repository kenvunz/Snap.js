/*
 * Snap.js
 *
 * Copyright 2013, Jacob Kelley - http://jakiestfu.com/
 * Released under the MIT Licence
 * http://opensource.org/licenses/MIT
 *
 * Github:  http://github.com/jakiestfu/Snap.js/
 * Version: 1.5.0
 */
 (function(c,b){var a=a||function(k){var f={element:null,disable:"none",addBodyClasses:true,resistance:0.5,flickThreshold:50,transitionSpeed:0.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:true,slideIntent:40,minDragDistance:5},e={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},h={},d={hasTouch:(b.ontouchstart===null),eventType:function(m){var l={down:d.hasTouch?"touchstart":"mousedown",move:d.hasTouch?"touchmove":"mousemove",up:d.hasTouch?"touchend":"mouseup",out:d.hasTouch?"touchcancel":"mouseout"};return l[m]},dispatchEvent:function(l){if(typeof h[l]==="function"){h[l].call()}},deepExtend:function(l,n){var m;for(m in n){if(n[m]&&n[m].constructor&&n[m].constructor===Object){l[m]=l[m]||{};d.deepExtend(l[m],n[m])}else{l[m]=n[m]}}return l},angleOfDrag:function(l,o){var n,m;m=Math.atan2(-(e.startDragY-o),(e.startDragX-l));if(m<0){m+=2*Math.PI}n=Math.floor(m*(180/Math.PI)-180);if(n<0&&n>-180){n=360-Math.abs(n)}return Math.abs(n)},events:{addEvent:function g(m,l,n){if(m.addEventListener){m.addEventListener(l,n,false)}else{if(m.attachEvent){m.attachEvent("on"+l,n)}}},removeEvent:function g(m,l,n){if(m.addEventListener){m.removeEventListener(l,n,false)}else{if(m.attachEvent){m.detachEvent("on"+l,n)}}},preventDefaultEvent:function(l){if(l.preventDefault){l.preventDefault()}else{l.returnValue=false}}}},i={translate:{get:{matrix:function(m){var l=c.getComputedStyle(f.element).webkitTransform.match(/\((.*)\)/);if(l){l=l[1].split(",");return parseInt(l[m],10)}return 0}},easeTo:function(m){e.easing=true;f.element.style.webkitTransition="all "+f.transitionSpeed+"s "+f.easing;var l=setInterval(function(){d.dispatchEvent("animating")},1);d.events.addEvent(f.element,"webkitTransitionEnd",function(){f.element.style.webkitTransition="";e.translation=i.translate.get.matrix(4);e.easing=false;clearInterval(l);d.dispatchEvent("animated")});i.translate.x(m)},x:function(m){var l="translate3d("+parseInt(m,10)+"px, 0,0)";f.element.style.webkitTransform=l}},drag:{listen:function(){e.translation=0;e.easing=false;d.events.addEvent(f.element,d.eventType("down"),i.drag.startDrag);d.events.addEvent(f.element,d.eventType("move"),i.drag.dragging);d.events.addEvent(f.element,d.eventType("up"),i.drag.endDrag)},startDrag:function(l){if(l.srcElement.dataset.snapIgnore=="true"){d.dispatchEvent("ignore");return}d.dispatchEvent("start");f.element.style.webkitTransition="";e.isDragging=true;e.hasIntent=null;e.intentChecked=false;e.startDragX=d.hasTouch?l.touches[0].pageX:l.pageX;e.startDragY=d.hasTouch?l.touches[0].pageY:l.pageY;e.dragWatchers={current:0,last:0,hold:0,state:""};e.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(s){if(e.isDragging){var v=d.hasTouch?s.touches[0].pageX:s.pageX,u=d.hasTouch?s.touches[0].pageY:s.pageY,t=e.translation,o=i.translate.get.matrix(4),n=v-e.startDragX,p=o>0,q=n,w;if((e.intentChecked&&!e.hasIntent)||(v-e.startDragX)>0&&(f.disable=="left")||(v-e.startDragX)<0&&(f.disable=="right")){return}if(f.addBodyClasses){if((o)>0){b.body.classList.add("snapjs-left");b.body.classList.remove("snapjs-right")}else{if((o)<0){b.body.classList.add("snapjs-right");b.body.classList.remove("snapjs-left")}}}if(e.hasIntent===false||e.hasIntent===null){var m=d.angleOfDrag(v,u),l=(m>=0&&m<=f.slideIntent)||(m<=360&&m>(360-f.slideIntent)),r=(m>=180&&m<=(180+f.slideIntent))||(m<=180&&m>=(180-f.slideIntent));if(!r&&!l){e.hasIntent=false}else{e.hasIntent=true}e.intentChecked=true}if((f.minDragDistance>=Math.abs(v-e.startDragX))&&(e.hasIntent===false)){return}s.preventDefault();d.dispatchEvent("drag");e.dragWatchers.current=v;if(e.dragWatchers.last>v){if(e.dragWatchers.state!=="left"){e.dragWatchers.state="left";e.dragWatchers.hold=v}e.dragWatchers.last=v}else{if(e.dragWatchers.last<v){if(e.dragWatchers.state!=="right"){e.dragWatchers.state="right";e.dragWatchers.hold=v}e.dragWatchers.last=v}}if(p){if(f.maxPosition<o){w=(o-f.maxPosition)*f.resistance;q=n-w}e.simpleStates={opening:"left",towards:e.dragWatchers.state,hyperExtending:f.maxPosition<o,halfway:o>(f.maxPosition/2),flick:Math.abs(e.dragWatchers.current-e.dragWatchers.hold)>f.flickThreshold,translation:{absolute:o,relative:n,sinceDirectionChange:(e.dragWatchers.current-e.dragWatchers.hold),percentage:(o/f.maxPosition)*100}}}else{if(f.minPosition>o){w=(o-f.minPosition)*f.resistance;q=n-w}e.simpleStates={opening:"right",towards:e.dragWatchers.state,hyperExtending:f.minPosition>o,halfway:o<(f.minPosition/2),flick:Math.abs(e.dragWatchers.current-e.dragWatchers.hold)>f.flickThreshold,translation:{absolute:o,relative:n,sinceDirectionChange:(e.dragWatchers.current-e.dragWatchers.hold),percentage:(o/f.minPosition)*100}}}i.translate.x(q+t)}},endDrag:function(m){if(e.isDragging){d.dispatchEvent("end");var l=i.translate.get.matrix(4);if(e.dragWatchers.current===0&&l!==0&&f.tapToClose){i.translate.easeTo(0);e.isDragging=false;e.startDragX=0;return}if(e.simpleStates.opening==="left"){if((e.simpleStates.halfway||e.simpleStates.hyperExtending||e.simpleStates.flick)){if(e.simpleStates.flick&&e.simpleStates.towards==="left"){i.translate.easeTo(0)}else{if((e.simpleStates.flick&&e.simpleStates.towards==="right")||(e.simpleStates.halfway||e.simpleStates.hyperExtending)){i.translate.easeTo(f.maxPosition)}}}else{i.translate.easeTo(0)}}else{if(e.simpleStates.opening==="right"){if((e.simpleStates.halfway||e.simpleStates.hyperExtending||e.simpleStates.flick)){if(e.simpleStates.flick&&e.simpleStates.towards==="right"){i.translate.easeTo(0)}else{if((e.simpleStates.flick&&e.simpleStates.towards==="left")||(e.simpleStates.halfway||e.simpleStates.hyperExtending)){i.translate.easeTo(f.minPosition)}}}else{i.translate.easeTo(0)}}}e.isDragging=false;e.startDragX=d.hasTouch?m.touches[0].pageX:m.pageX}}}},j=function(l){if(l.element){d.deepExtend(f,l);i.drag.listen()}};this.open=function(l){if(l==="left"){e.simpleStates.opening="left";e.simpleStates.towards="right";b.body.classList.add("snapjs-left");b.body.classList.remove("snapjs-right");i.translate.easeTo(f.maxPosition)}else{if(l==="right"){e.simpleStates.opening="right";e.simpleStates.towards="left";b.body.classList.add("snapjs-right");b.body.classList.remove("snapjs-left");i.translate.easeTo(f.minPosition)}}};this.close=function(){i.translate.easeTo(0)};this.on=function(l,m){h[l]=m;return this};this.off=function(l){if(h[l]){h[l]=false}};this.state=function(){var l,m=i.translate.get.matrix(4);if(m===f.maxPosition){l="left"}else{if(m===f.minPosition){l="right"}else{l="closed"}}return{state:l,info:e.simpleStates}};j(k)};if((typeof module!=="undefined")&&module.exports){module.exports=a}if(typeof ender==="undefined"){this.Snap=a}if((typeof define==="function")&&define.amd){define("snap",[],function(){return a})}}).call(this,window,document);
(function(c,b){var a=a||function(k){var f={element:null,disable:"none",addBodyClasses:true,resistance:0.5,flickThreshold:50,transitionSpeed:0.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:true,slideIntent:40,minDragDistance:5},e={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},h={},d={hasTouch:(b.ontouchstart===null),eventType:function(m){var l={down:d.hasTouch?"touchstart":"mousedown",move:d.hasTouch?"touchmove":"mousemove",up:d.hasTouch?"touchend":"mouseup",out:d.hasTouch?"touchcancel":"mouseout"};return l[m]},dispatchEvent:function(l){if(typeof h[l]==="function"){h[l].call()}},deepExtend:function(l,n){var m;for(m in n){if(n[m]&&n[m].constructor&&n[m].constructor===Object){l[m]=l[m]||{};d.deepExtend(l[m],n[m])}else{l[m]=n[m]}}return l},angleOfDrag:function(l,o){var n,m;m=Math.atan2(-(e.startDragY-o),(e.startDragX-l));if(m<0){m+=2*Math.PI}n=Math.floor(m*(180/Math.PI)-180);if(n<0&&n>-180){n=360-Math.abs(n)}return Math.abs(n)},events:{addEvent:function g(m,l,n){if(m.addEventListener){m.addEventListener(l,n,false)}else{if(m.attachEvent){m.attachEvent("on"+l,n)}}},removeEvent:function g(m,l,n){if(m.addEventListener){m.removeEventListener(l,n,false)}else{if(m.attachEvent){m.detachEvent("on"+l,n)}}},preventDefaultEvent:function(l){if(l.preventDefault){l.preventDefault()}else{l.returnValue=false}}}},i={translate:{get:{matrix:function(m){var l=c.getComputedStyle(f.element).webkitTransform.match(/\((.*)\)/);if(l){l=l[1].split(",");return parseInt(l[m],10)}return 0}},easeTo:function(m){e.easing=true;f.element.style.webkitTransition="all "+f.transitionSpeed+"s "+f.easing;var l=setInterval(function(){d.dispatchEvent("animating")},1);d.events.addEvent(f.element,"webkitTransitionEnd",function(){f.element.style.webkitTransition="";e.translation=i.translate.get.matrix(4);e.easing=false;clearInterval(l);if(f.addBodyClasses){switch(m){case f.minPosition:b.body.classList.add("snapjs-right");b.body.classList.remove("snapjs-left");break;case f.maxPosition:b.body.classList.add("snapjs-left");b.body.classList.remove("snapjs-right");break;default:b.body.classList.remove("snapjs-left");b.body.classList.remove("snapjs-right");break}}d.dispatchEvent("animated")});i.translate.x(m)},x:function(m){var l="translate3d("+parseInt(m,10)+"px, 0,0)";f.element.style.webkitTransform=l}},drag:{listen:function(){e.translation=0;e.easing=false;d.events.addEvent(f.element,d.eventType("down"),i.drag.startDrag);d.events.addEvent(f.element,d.eventType("move"),i.drag.dragging);d.events.addEvent(f.element,d.eventType("up"),i.drag.endDrag)},startDrag:function(l){if(l.srcElement.dataset.snapIgnore=="true"){d.dispatchEvent("ignore");return}d.dispatchEvent("start");f.element.style.webkitTransition="";e.isDragging=true;e.hasIntent=null;e.intentChecked=false;e.startDragX=d.hasTouch?l.touches[0].pageX:l.pageX;e.startDragY=d.hasTouch?l.touches[0].pageY:l.pageY;e.dragWatchers={current:0,last:0,hold:0,state:""};e.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(s){if(e.isDragging){var v=d.hasTouch?s.touches[0].pageX:s.pageX,u=d.hasTouch?s.touches[0].pageY:s.pageY,t=e.translation,o=i.translate.get.matrix(4),n=v-e.startDragX,p=o>0,q=n,w;if((e.intentChecked&&!e.hasIntent)||(v-e.startDragX)>0&&(f.disable=="left")||(v-e.startDragX)<0&&(f.disable=="right")){return}if(f.addBodyClasses){if((o)>0){b.body.classList.add("snapjs-left");b.body.classList.remove("snapjs-right")}else{if((o)<0){b.body.classList.add("snapjs-right");b.body.classList.remove("snapjs-left")}}}if(e.hasIntent===false||e.hasIntent===null){var m=d.angleOfDrag(v,u),l=(m>=0&&m<=f.slideIntent)||(m<=360&&m>(360-f.slideIntent)),r=(m>=180&&m<=(180+f.slideIntent))||(m<=180&&m>=(180-f.slideIntent));if(!r&&!l){e.hasIntent=false}else{e.hasIntent=true}e.intentChecked=true}if((f.minDragDistance>=Math.abs(v-e.startDragX))&&(e.hasIntent===false)){return}s.preventDefault();d.dispatchEvent("drag");e.dragWatchers.current=v;if(e.dragWatchers.last>v){if(e.dragWatchers.state!=="left"){e.dragWatchers.state="left";e.dragWatchers.hold=v}e.dragWatchers.last=v}else{if(e.dragWatchers.last<v){if(e.dragWatchers.state!=="right"){e.dragWatchers.state="right";e.dragWatchers.hold=v}e.dragWatchers.last=v}}if(p){if(f.maxPosition<o){w=(o-f.maxPosition)*f.resistance;q=n-w}e.simpleStates={opening:"left",towards:e.dragWatchers.state,hyperExtending:f.maxPosition<o,halfway:o>(f.maxPosition/2),flick:Math.abs(e.dragWatchers.current-e.dragWatchers.hold)>f.flickThreshold,translation:{absolute:o,relative:n,sinceDirectionChange:(e.dragWatchers.current-e.dragWatchers.hold),percentage:(o/f.maxPosition)*100}}}else{if(f.minPosition>o){w=(o-f.minPosition)*f.resistance;q=n-w}e.simpleStates={opening:"right",towards:e.dragWatchers.state,hyperExtending:f.minPosition>o,halfway:o<(f.minPosition/2),flick:Math.abs(e.dragWatchers.current-e.dragWatchers.hold)>f.flickThreshold,translation:{absolute:o,relative:n,sinceDirectionChange:(e.dragWatchers.current-e.dragWatchers.hold),percentage:(o/f.minPosition)*100}}}i.translate.x(q+t)}},endDrag:function(m){if(e.isDragging){d.dispatchEvent("end");var l=i.translate.get.matrix(4);if(e.dragWatchers.current===0&&l!==0&&f.tapToClose){i.translate.easeTo(0);e.isDragging=false;e.startDragX=0;return}if(e.simpleStates.opening==="left"){if((e.simpleStates.halfway||e.simpleStates.hyperExtending||e.simpleStates.flick)){if(e.simpleStates.flick&&e.simpleStates.towards==="left"){i.translate.easeTo(0)}else{if((e.simpleStates.flick&&e.simpleStates.towards==="right")||(e.simpleStates.halfway||e.simpleStates.hyperExtending)){i.translate.easeTo(f.maxPosition)}}}else{i.translate.easeTo(0)}}else{if(e.simpleStates.opening==="right"){if((e.simpleStates.halfway||e.simpleStates.hyperExtending||e.simpleStates.flick)){if(e.simpleStates.flick&&e.simpleStates.towards==="right"){i.translate.easeTo(0)}else{if((e.simpleStates.flick&&e.simpleStates.towards==="left")||(e.simpleStates.halfway||e.simpleStates.hyperExtending)){i.translate.easeTo(f.minPosition)}}}else{i.translate.easeTo(0)}}}e.isDragging=false;e.startDragX=d.hasTouch?m.touches[0].pageX:m.pageX}}}},j=function(l){if(l.element){d.deepExtend(f,l);i.drag.listen()}};this.open=function(l){if(l==="left"){e.simpleStates.opening="left";e.simpleStates.towards="right";b.body.classList.add("snapjs-left");b.body.classList.remove("snapjs-right");i.translate.easeTo(f.maxPosition)}else{if(l==="right"){e.simpleStates.opening="right";e.simpleStates.towards="left";b.body.classList.add("snapjs-right");b.body.classList.remove("snapjs-left");i.translate.easeTo(f.minPosition)}}};this.close=function(){i.translate.easeTo(0)};this.on=function(l,m){h[l]=m;return this};this.off=function(l){if(h[l]){h[l]=false}};this.state=function(){var l,m=i.translate.get.matrix(4);if(m===f.maxPosition){l="left"}else{if(m===f.minPosition){l="right"}else{l="closed"}}return{state:l,info:e.simpleStates}};j(k)};if((typeof module!=="undefined")&&module.exports){module.exports=a}if(typeof ender==="undefined"){this.Snap=a}if((typeof define==="function")&&define.amd){define("snap",[],function(){return a})}}).call(this,window,document);